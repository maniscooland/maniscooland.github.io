<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Royale Game</title>
    <style>
        body, html { margin: 0; padding: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // ... (previous code for map, player, vehicles, etc. remains the same)

        function drawVehicle(vehicle) {
            ctx.save();
            ctx.translate(vehicle.x - camera.x, vehicle.y - camera.y);
            ctx.rotate(vehicle.angle);

            ctx.fillStyle = vehicle.color;
            ctx.fillRect(-vehicle.width / 2, -vehicle.height / 2, vehicle.width, vehicle.height);

            ctx.fillStyle = '#000000';
            // Front wheels (turning)
            ctx.save();
            ctx.translate(vehicle.width / 2 - 10, -vehicle.height / 2);
            ctx.rotate(vehicle.steeringAngle);
            ctx.fillRect(-5, -5, 10, 10);
            ctx.restore();

            ctx.save();
            ctx.translate(vehicle.width / 2 - 10, vehicle.height / 2);
            ctx.rotate(vehicle.steeringAngle);
            ctx.fillRect(-5, -5, 10, 10);
            ctx.restore();

            // Back wheels (fixed)
            ctx.fillRect(-vehicle.width / 2 + 5, -vehicle.height / 2 - 5, 10, 10);
            ctx.fillRect(-vehicle.width / 2 + 5, vehicle.height / 2 - 5, 10, 10);

            ctx.restore();
        }

        function drawPlayer() {
            ctx.save();
            ctx.translate(player.x - camera.x, player.y - camera.y);
            ctx.rotate(player.angle + Math.PI / 2); // Rotate 90 degrees to face right
            ctx.drawImage(playerImage, -player.width / 2, -player.height / 2, player.width, player.height);
            
            if (player.gun) {
                ctx.drawImage(gunImages[player.gun.name], player.width / 2, -player.height / 4, player.width, player.height / 2);
            }
            
            ctx.restore();
        }

        // ... (rest of the code remains the same)

        canvas.addEventListener('mousemove', e => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left + camera.x;
            const mouseY = e.clientY - rect.top + camera.y;
            player.angle = Math.atan2(mouseY - player.y, mouseX - player.x) - Math.PI / 2; // Subtract 90 degrees
        });

        // ... (rest of the code remains the same)

    </script>
</body>
</html>
